{"ast":null,"code":"var _jsxFileName = \"/Users/yeldarlimton/Desktop/Desktop_Yeldar/study/java/shop/spring-client/src/components/pages/edit-item-form.js\";\nimport React, { Component } from 'react';\nimport axios from 'axios';\nimport { Redirect, withRouter } from 'react-router-dom';\nimport { Select, Upload, message } from 'antd';\nimport { LoadingOutlined, PlusOutlined } from '@ant-design/icons';\nimport { saveBook, updateProduct } from \"../../actions\";\nimport { connect } from 'react-redux';\n\nclass Misc extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      data: {\n        name: '',\n        price: '',\n        count: ''\n      },\n      loading: true,\n      error: false\n    };\n  }\n\n  componentDidMount() {\n    axios.get('/api/v1/admin/products/' + this.props.match.params.id).then(res => {\n      const data = res.data; // get the data array instead of object\n\n      this.setState({\n        data,\n        loading: false\n      });\n      console.log(data);\n    }).catch(err => {\n      // log request error and prevent access to undefined state\n      this.setState({\n        loading: false,\n        error: true\n      });\n      console.error(err);\n    });\n  }\n\n  render() {\n    const handleChange = e => {\n      console.log(e.target.value);\n      this.setState({\n        data: { ...this.state.data,\n          [e.target.name]: e.target.value\n        }\n      });\n    };\n\n    const handleOk = e => {\n      this.props.updateProduct(this.state.data, this.props.match.params.id);\n      return /*#__PURE__*/React.createElement(Redirect, {\n        to: \"/books\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 48,\n          columnNumber: 20\n        }\n      });\n    };\n\n    const onFinish = values => {\n      console.log(values);\n    };\n\n    if (this.state.loading) {\n      return /*#__PURE__*/React.createElement(\"div\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 57,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(\"p\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 58,\n          columnNumber: 21\n        }\n      }, \" Loading... \"));\n    }\n\n    if (this.state.error || !this.state.data) {\n      // if request failed or data is empty don't try to access it either\n      return /*#__PURE__*/React.createElement(\"div\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 64,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(\"p\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 65,\n          columnNumber: 21\n        }\n      }, \" An error occured \"));\n    }\n\n    return /*#__PURE__*/React.createElement(\"form\", {\n      onSubmit: handleOk,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"h2\", {\n      className: \"center\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 17\n      }\n    }, \"Change data\"), /*#__PURE__*/React.createElement(\"h5\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 17\n      }\n    }, \"Title:\"), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"text\",\n      name: \"name\",\n      value: this.state.data.name,\n      onChange: handleChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 17\n      }\n    }), /*#__PURE__*/React.createElement(\"h5\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 17\n      }\n    }, \"Price:\"), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"text\",\n      name: \"price\",\n      value: this.state.data.price,\n      onChange: handleChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 17\n      }\n    }), /*#__PURE__*/React.createElement(\"h5\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 17\n      }\n    }, \"Count:\"), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"text\",\n      name: \"count\",\n      value: this.state.data.count,\n      onChange: handleChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 17\n      }\n    }), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"submit\",\n      className: \"btn-large waves-effect waves-light xbutton\",\n      value: \"Save\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 17\n      }\n    }));\n  }\n\n}\n\nconst mapStateToProps = null;\nconst mapDispatchToProps = {\n  updateProduct\n};\nexport default withRouter(connect(mapStateToProps, mapDispatchToProps)(Misc));","map":{"version":3,"sources":["/Users/yeldarlimton/Desktop/Desktop_Yeldar/study/java/shop/spring-client/src/components/pages/edit-item-form.js"],"names":["React","Component","axios","Redirect","withRouter","Select","Upload","message","LoadingOutlined","PlusOutlined","saveBook","updateProduct","connect","Misc","state","data","name","price","count","loading","error","componentDidMount","get","props","match","params","id","then","res","setState","console","log","catch","err","render","handleChange","e","target","value","handleOk","onFinish","values","mapStateToProps","mapDispatchToProps"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport axios from 'axios';\nimport {Redirect, withRouter} from 'react-router-dom'\nimport { Select, Upload, message } from 'antd';\nimport { LoadingOutlined, PlusOutlined } from '@ant-design/icons';\nimport { saveBook, updateProduct} from \"../../actions\";\nimport {connect} from 'react-redux'\n\nclass Misc extends Component {\n    state = {\n        data: {\n            name: '',\n            price: '',\n            count: ''\n        },\n        loading: true,\n        error: false,\n    }\n\n\n    componentDidMount() {\n\n        axios.get('/api/v1/admin/products/' + this.props.match.params.id)\n            .then(res => {\n                const data = res.data; // get the data array instead of object\n                this.setState({ data, loading: false });\n                console.log(data);\n            })\n            .catch(err => { // log request error and prevent access to undefined state\n                this.setState({ loading: false, error: true });\n                console.error(err);\n            })\n    }\n\n\n    render() {\n\n        const handleChange = (e) => {\n            console.log(e.target.value)\n            this.setState({\n                data: {...this.state.data, [e.target.name]: e.target.value}\n            })\n        }\n\n        const handleOk = (e) => {\n\n            this.props.updateProduct(this.state.data, this.props.match.params.id)\n            return <Redirect to=\"/books\" />\n        };\n\n        const onFinish = values => {\n            console.log(values);\n        };\n\n        if (this.state.loading) {\n            return(\n                <div>\n                    <p> Loading... </p>\n                </div>\n            )\n        }\n        if (this.state.error || !this.state.data) { // if request failed or data is empty don't try to access it either\n            return(\n                <div>\n                    <p> An error occured </p>\n                </div>\n            )\n        }\n        return (\n            <form onSubmit={handleOk}>\n                <h2 className=\"center\" >Change data</h2>\n                <h5>Title:</h5>\n                <input type=\"text\" name=\"name\" value={ this.state.data.name } onChange={handleChange}/>\n                <h5>Price:</h5>\n                <input type=\"text\" name=\"price\" value={ this.state.data.price } onChange={handleChange}/>\n                <h5>Count:</h5>\n                <input type=\"text\" name=\"count\" value={ this.state.data.count } onChange={handleChange}/>\n\n\n                <input type=\"submit\" className=\"btn-large waves-effect waves-light xbutton\" value=\"Save\"/>\n            </form>\n\n\n\n        );\n    }\n}\n\n\nconst mapStateToProps = null;\n\n\n\nconst mapDispatchToProps = {\n    updateProduct\n\n\n};\n\n\nexport default withRouter(connect(mapStateToProps, mapDispatchToProps)(Misc));"]},"metadata":{},"sourceType":"module"}