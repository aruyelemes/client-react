{"ast":null,"code":"import axios from 'axios';\nexport const bookAddedToCart = productId => {\n  return {\n    type: 'BOOK_ADDED_TO_CART',\n    payload: productId\n  };\n};\nexport const bookRemovedToCart = productId => {\n  return {\n    type: 'BOOK_REMOVED_FROM_CART',\n    payload: productId\n  };\n};\nexport const allbookRemovedToCart = productId => {\n  return {\n    type: 'ALL_BOOKS_REMOVED_FROM_CART',\n    payload: productId\n  };\n};\nexport const fetchBooks = () => dispatch => {\n  axios.get('/products/').then(res => {\n    // console.log(res, res.data)\n    dispatch({\n      type: 'FETCH_BOOKS_SUCCESS',\n      payload: res.data\n    });\n  }).catch(err => console.log(err));\n};\nexport const saveBook = data => dispatch => {\n  console.log(data);\n  const fm = new FormData();\n  Object.keys(data).map(key => {\n    fm.append([key], data[key]);\n  });\n  console.log(fm.get('name'));\n  axios.post('/products/createProduct', fm, {\n    headers: {\n      \"Content-type\": undefined\n    }\n  }).then(res => {\n    console.log(res.data);\n    dispatch({\n      type: 'FETCH_BOOK_ADD',\n      payload: res.data\n    });\n  }).catch(err => console.log(err));\n};\nexport const updateProduct = (data, id) => dispatch => {\n  console.log(data);\n  const fm = new FormData();\n  Object.keys(data).map(key => {\n    fm.append([key], data[key]);\n  });\n  console.log(fm.get('name'));\n  axios.put('/products/update/' + id, fm, {\n    headers: {\n      \"Content-type\": undefined\n    }\n  }).then(res => {\n    dispatch({\n      type: 'FETCH_BOOK_UPDATE',\n      payload: res.data\n    });\n  }).catch(err => console.log(err));\n};\nexport const signUp = user => dispatch => {\n  console.log(user);\n  axios.post('/users/add', JSON.stringify(user), {\n    headers: {\n      'Content-Type': 'application/x-www-form-urlencoded',\n      'Accept': 'application/json'\n    }\n  }).then(res => {\n    console.log(\"Response: \", res.data);\n    dispatch({\n      type: 'USER_SIGNIN'\n    });\n    setTimeout(() => {\n      dispatch({\n        type: 'USER_SIGNUP'\n      });\n    }, 1000);\n  }).catch(err => {\n    // console.log(err.message)\n    dispatch({\n      type: 'ERROR_HANDLE',\n      payload: err.response.data\n    });\n  });\n};\nexport const logIn = user => dispatch => {\n  console.log(user);\n  axios.post('/users/login', user).then(res => {\n    localStorage.setItem('access_token', res.data.access);\n    dispatch({\n      type: 'USER_LOGIN',\n      payload: res.data.access\n    });\n  }).catch(err => {\n    // console.log(err.message)\n    dispatch({\n      type: 'ERROR_HANDLE',\n      payload: err.response.data\n    });\n  });\n};\nexport const logOut = () => dispatch => {\n  dispatch({\n    type: 'USER_LOGOUT'\n  });\n};\nexport const deleteArticle = id => dispatch => {\n  axios.delete('/products/delete/' + id).then(res => {\n    dispatch({\n      type: 'DELETE_BOOK',\n      payload: id\n    });\n  }).catch(err => console.log(err));\n};\nexport const setError = err => dispatch => {\n  dispatch({\n    type: \"ERROR_HANDLE\",\n    payload: {}\n  });\n};","map":{"version":3,"sources":["/Users/yeldarlimton/Documents/spring-client/src/actions/index.js"],"names":["axios","bookAddedToCart","productId","type","payload","bookRemovedToCart","allbookRemovedToCart","fetchBooks","dispatch","get","then","res","data","catch","err","console","log","saveBook","fm","FormData","Object","keys","map","key","append","post","headers","undefined","updateProduct","id","put","signUp","user","JSON","stringify","setTimeout","response","logIn","localStorage","setItem","access","logOut","deleteArticle","delete","setError"],"mappings":"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","sourcesContent":["import axios from 'axios';\r\n\r\n\r\nexport const bookAddedToCart = (productId) => {\r\n  return {\r\n      type: 'BOOK_ADDED_TO_CART',\r\n      payload: productId\r\n  }\r\n};\r\n\r\nexport const bookRemovedToCart = (productId) => {\r\n  return {\r\n      type: 'BOOK_REMOVED_FROM_CART',\r\n      payload: productId\r\n  }\r\n};\r\nexport const allbookRemovedToCart = (productId) => {\r\n  return {\r\n      type: 'ALL_BOOKS_REMOVED_FROM_CART',\r\n      payload: productId\r\n  }\r\n};\r\n\r\nexport const fetchBooks = () => (dispatch) => {\r\n    axios.get('/products/').then(res => {\r\n        // console.log(res, res.data)\r\n        dispatch({\r\n            type: 'FETCH_BOOKS_SUCCESS',\r\n            payload: res.data\r\n        })\r\n    }).catch(err => console.log(err))\r\n}\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nexport const saveBook = data => dispatch =>{\r\n    console.log(data)\r\n    const fm = new FormData()\r\n    Object.keys(data).map(key => {\r\n        fm.append([key],data[key])\r\n    })\r\n    console.log(fm.get('name'))\r\n\r\n\r\n    axios.post('/products/createProduct', fm, {\r\n        headers: {\r\n            \"Content-type\": undefined\r\n        }})\r\n        .then(res => {\r\n            console.log(res.data)\r\n\r\n            dispatch({\r\n                type: 'FETCH_BOOK_ADD',\r\n                payload: res.data\r\n            })\r\n        })\r\n        .catch(err => console.log(err))\r\n};\r\n\r\nexport const updateProduct = (data, id) => dispatch => {\r\n    console.log(data)\r\n    const fm = new FormData()\r\n    Object.keys(data).map(key => {\r\n        fm.append([key],data[key])\r\n    })\r\n    console.log(fm.get('name'))\r\n\r\n\r\n    axios.put('/products/update/' + id, fm, {\r\n        headers: {\r\n            \"Content-type\": undefined\r\n        }})\r\n        .then(res => {\r\n            dispatch({\r\n                type: 'FETCH_BOOK_UPDATE',\r\n                payload: res.data\r\n            })\r\n\r\n        })\r\n        .catch(err => console.log(err))\r\n\r\n}\r\n\r\n\r\n\r\nexport const signUp = (user) => dispatch =>{\r\n    console.log(user)\r\n    axios.post('/users/add', JSON.stringify(user), {\r\n        headers: {\r\n            'Content-Type': 'application/x-www-form-urlencoded',\r\n            'Accept': 'application/json'\r\n        }\r\n    })\r\n        .then(res => {\r\n            console.log(\"Response: \", res.data)\r\n            dispatch({\r\n                type: 'USER_SIGNIN',\r\n            })\r\n\r\n            setTimeout(() => {\r\n                dispatch({\r\n                    type: 'USER_SIGNUP',\r\n                })\r\n            }, 1000)\r\n\r\n        })\r\n        .catch(err => {\r\n            // console.log(err.message)\r\n            dispatch({\r\n                type: 'ERROR_HANDLE',\r\n                payload: err.response.data\r\n            })\r\n        })\r\n\r\n};\r\n\r\n\r\nexport const logIn = (user) => dispatch =>{\r\n    console.log(user)\r\n    axios.post('/users/login', user)\r\n        .then(res => {\r\n            localStorage.setItem('access_token', res.data.access)\r\n            dispatch({\r\n                type: 'USER_LOGIN',\r\n                payload: res.data.access\r\n            })\r\n        })\r\n        .catch(err => {\r\n            // console.log(err.message)\r\n            dispatch({\r\n                type: 'ERROR_HANDLE',\r\n                payload: err.response.data\r\n            })\r\n        })\r\n};\r\n\r\nexport const logOut = () => dispatch =>{\r\n    dispatch({\r\n        type: 'USER_LOGOUT'\r\n    })\r\n};\r\n\r\n\r\nexport const deleteArticle = (id) => dispatch =>{\r\n    axios.delete('/products/delete/' + id)\r\n        .then(res => {\r\n            dispatch({\r\n                type: 'DELETE_BOOK',\r\n                payload: id\r\n            })\r\n        })\r\n        .catch(err => console.log(err))\r\n};\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nexport const setError = (err) => dispatch =>{\r\n    dispatch({\r\n        type: \"ERROR_HANDLE\",\r\n        payload: {}\r\n    })\r\n};\r\n\r\n\r\n\r\n\r\n\r\n"]},"metadata":{},"sourceType":"module"}