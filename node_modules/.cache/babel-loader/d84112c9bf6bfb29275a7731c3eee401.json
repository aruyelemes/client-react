{"ast":null,"code":"var _jsxFileName = \"/Users/yeldarlimton/Desktop/Desktop_Yeldar/study/java/shop/spring-client/src/components/auth/login/index.js\";\nimport React, { useState, useEffect } from 'react';\nimport { Modal, Form, Input, Button } from 'antd';\nimport { logIn, logOut, setError, signUp } from \"../../../actions\";\nimport { connect } from 'react-redux';\n\nfunction Login(props) {\n  const {\n    modalLoginVisible,\n    close,\n    openSignup\n  } = props;\n  const {\n    error\n  } = props;\n  const [visible, setVisible] = useState(modalLoginVisible);\n  const [loading, setLoading] = useState(false);\n  const [formData, setFormData] = useState({\n    username: ``,\n    password: ``\n  });\n  useEffect(() => {\n    setVisible(modalLoginVisible);\n\n    if (!modalLoginVisible) {\n      props.setError();\n    }\n  }, [modalLoginVisible]);\n\n  const handleOk = () => {\n    console.log(formData);\n    props.logIn(formData); // close()\n  };\n\n  const onFinish = values => {\n    handleOk();\n  };\n\n  const validateMessages = {\n    required: '${label} is required!',\n    types: {\n      email: '${label} is not validate email!',\n      number: '${label} is not a validate number!'\n    },\n    number: {\n      range: '${label} must be between ${min} and ${max}'\n    }\n  };\n\n  const handleChange = e => {\n    setFormData({ ...formData,\n      [e.target.name]: e.target.value\n    });\n  };\n\n  return /*#__PURE__*/React.createElement(Modal, {\n    title: \"Login\",\n    visible: visible,\n    onOk: handleOk,\n    onCancel: close,\n    footer: [/*#__PURE__*/React.createElement(Button, {\n      key: \"back\",\n      onClick: close,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 13\n      }\n    }, \"Close\"), /*#__PURE__*/React.createElement(Button, {\n      key: \"submit\",\n      type: \"primary\",\n      loading: loading,\n      onClick: handleOk,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 13\n      }\n    }, \"Submit\")],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(Form, {\n    layout: \"vertical\",\n    name: \"nest-messages\",\n    onFinish: onFinish,\n    validateMessages: validateMessages,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Form.Item, {\n    name: \"username\",\n    label: \"Username\",\n    rules: [{\n      required: true\n    }],\n    validateStatus: error.username ? 'error' : '',\n    help: error.username,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Input, {\n    name: \"username\",\n    value: formData.username,\n    onChange: handleChange,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 17\n    }\n  })), /*#__PURE__*/React.createElement(Form.Item, {\n    label: \"Password\",\n    name: \"password\",\n    rules: [{\n      required: true\n    }],\n    validateStatus: error.password ? 'error' : '',\n    help: error.password,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Input.Password, {\n    name: \"password\",\n    value: formData.password,\n    onChange: handleChange,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 17\n    }\n  }))), error.detail && /*#__PURE__*/React.createElement(\"span\", {\n    style: {\n      color: 'red'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 26\n    }\n  }, error.detail), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 77\n    }\n  }), \"Or \", /*#__PURE__*/React.createElement(\"a\", {\n    onClick: openSignup,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 12\n    }\n  }, \"register now!\"));\n}\n\nconst mapStateToProps = state => {\n  return {\n    error: state.errors.error\n  };\n};\n\nconst mapDispatchToProps = {\n  logIn: logIn,\n  setError: setError\n};\nexport default connect(mapStateToProps, mapDispatchToProps)(Login);","map":{"version":3,"sources":["/Users/yeldarlimton/Desktop/Desktop_Yeldar/study/java/shop/spring-client/src/components/auth/login/index.js"],"names":["React","useState","useEffect","Modal","Form","Input","Button","logIn","logOut","setError","signUp","connect","Login","props","modalLoginVisible","close","openSignup","error","visible","setVisible","loading","setLoading","formData","setFormData","username","password","handleOk","console","log","onFinish","values","validateMessages","required","types","email","number","range","handleChange","e","target","name","value","detail","color","mapStateToProps","state","errors","mapDispatchToProps"],"mappings":"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","sourcesContent":["import React, {useState, useEffect} from 'react';\nimport { Modal, Form, Input, Button } from 'antd';\n\nimport {logIn, logOut, setError, signUp} from \"../../../actions\";\nimport { connect } from 'react-redux'\n\nfunction Login(props) {\n  const {modalLoginVisible, close, openSignup} = props\n  const {error} = props\n  const [visible, setVisible] = useState(modalLoginVisible)\n  const [loading, setLoading] =  useState(false)\n  const [formData, setFormData] = useState({\n    username: ``,\n    password: ``\n  })\n  useEffect(() => {\n    setVisible(modalLoginVisible)\n      if(!modalLoginVisible){\n          props.setError()\n      }\n  }, [modalLoginVisible])\n\n\n  const handleOk = () => {\n      console.log(formData)\n    props.logIn(formData)\n      // close()\n  };\n\n  const onFinish = values => {\n    handleOk()\n  };\n\n  const validateMessages = {\n    required: '${label} is required!',\n    types: {\n      email: '${label} is not validate email!',\n      number: '${label} is not a validate number!',\n    },\n    number: {\n      range: '${label} must be between ${min} and ${max}',\n    },\n  };\n\n  const handleChange = e => {\n    setFormData({...formData, [e.target.name]: e.target.value})\n  }\n\n  return (\n    <Modal\n        title=\"Login\"\n        visible={visible}\n        onOk={handleOk}\n        onCancel={close}\n        footer={[\n            <Button key=\"back\" onClick={close}>\n              Close\n            </Button>,\n            <Button key=\"submit\" type=\"primary\" loading={loading} onClick={handleOk}>\n              Submit\n            </Button>,\n          ]}\n    >\n\n        <Form layout=\"vertical\" name=\"nest-messages\" onFinish={onFinish} validateMessages={validateMessages}>\n            <Form.Item name=\"username\" label=\"Username\" rules={[{ required: true }]}\n                       validateStatus={error.username ? 'error' : ''}\n                       help={error.username}\n            >\n\n                <Input name=\"username\" value={formData.username} onChange={handleChange}/>\n            </Form.Item>\n\n            <Form.Item\n                label=\"Password\"\n                name=\"password\"\n                rules={[{ required: true }]}\n                validateStatus={error.password ? 'error' : ''}\n                help={error.password}\n            >\n                <Input.Password name=\"password\" value={formData.password} onChange={handleChange}/>\n            </Form.Item>\n        </Form>\n        {error.detail && <span style={{color: 'red'}}>{error.detail}</span>}<br />\n        Or <a onClick={openSignup}>register now!</a>\n    </Modal>\n  );\n}\n\n\nconst mapStateToProps = state => {\n    return { error: state.errors.error }\n}\n\nconst mapDispatchToProps = {\n      logIn: logIn,\n    setError: setError\n}\n\nexport default connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(Login)\n"]},"metadata":{},"sourceType":"module"}