{"ast":null,"code":"import axios from 'axios'; // const booksLoaded = (newBooks) => {\n//     return {\n//         type: 'FETCH_BOOKS_SUCCESS',\n//         payload: newBooks\n//     };\n// };\n// const booksRequested = () => {\n//     return {\n//         type: 'FETCH_BOOKS_REQUEST'\n//     };\n// };\n// const booksError = (error) => {\n//     return {\n//         type: 'FETCH_BOOKS_FAILURE',\n//         payload: error\n//     };\n// };\n\nexport const bookAddedToCart = bookId => {\n  return {\n    type: 'BOOK_ADDED_TO_CART',\n    payload: bookId\n  };\n};\nexport const bookRemovedToCart = bookId => {\n  return {\n    type: 'BOOK_REMOVED_FROM_CART',\n    payload: bookId\n  };\n};\nexport const allbookRemovedToCart = bookId => {\n  return {\n    type: 'ALL_BOOKS_REMOVED_FROM_CART',\n    payload: bookId\n  };\n};\n\nconst fetchBooks = () => dispatch => {\n  axios.get('/products/').then(res => {\n    // console.log(res, res.data)\n    dispatch({\n      type: 'FETCH_BOOKS_SUCCESS',\n      payload: res.data\n    });\n  }).catch(err => console.log(err));\n};\n\nconst fetchBooksGenre = () => dispatch => {\n  axios.get('/api/v1/shop/genre/list/').then(res => {\n    // console.log(res, res.data)\n    dispatch({\n      type: 'FETCH_GENRE_SUCCESS',\n      payload: res.data\n    });\n  }).catch(err => console.log(err));\n};\n\nexport const fetchBooksSeller = () => dispatch => {\n  axios.get('/api/user/list').then(res => {\n    // console.log(res, res.data)\n    dispatch({\n      type: 'FETCH_SELLER_SUCCESS',\n      payload: res.data\n    });\n  }).catch(err => console.log(err));\n};\nexport const saveBook = data => dispatch => {\n  console.log(data);\n  const fm = new FormData();\n  Object.keys(data).map(key => {\n    fm.append([key], data[key]);\n  });\n  console.log(fm.get('title'));\n  axios.post('/api/v1/shop/create/', fm, {\n    headers: {\n      \"Content-type\": undefined\n    }\n  }).then(res => {\n    console.log(res.data);\n    dispatch({\n      type: 'FETCH_BOOK_ADD',\n      payload: res.data\n    });\n  }).catch(err => console.log(err));\n};\nexport const signUp = user => dispatch => {\n  console.log(user);\n  axios.post('/api/signup', user).then(res => {\n    console.log(\"Response: \", res.data);\n    dispatch({\n      type: 'USER_SIGNIN'\n    });\n    setTimeout(() => {\n      dispatch({\n        type: 'USER_SIGNUP'\n      });\n    }, 1000);\n  }).catch(err => {\n    // console.log(err.message)\n    dispatch({\n      type: 'ERROR_HANDLE',\n      payload: err.response.data\n    });\n  });\n};\nexport const logIn = user => dispatch => {\n  console.log(user);\n  axios.post('/api/login', user).then(res => {\n    localStorage.setItem('access_token', res.data.access);\n    dispatch({\n      type: 'USER_LOGIN',\n      payload: res.data.access\n    });\n  }).catch(err => {\n    // console.log(err.message)\n    dispatch({\n      type: 'ERROR_HANDLE',\n      payload: err.response.data\n    });\n  });\n};\nexport const logOut = () => dispatch => {\n  dispatch({\n    type: 'USER_LOGOUT'\n  });\n};\nexport const deleteArticle = id => dispatch => {\n  axios.delete('/api/v1/shop/detail/' + id).then(res => {\n    dispatch({\n      type: 'DELETE_BOOK',\n      payload: id\n    });\n  }).catch(err => console.log(err));\n};\nexport const getMyArticles = () => dispatch => {\n  axios.get('/api/v1/shop/user/books').then(res => {\n    console.log(\"Response: \", res, res.data);\n    dispatch({\n      type: 'FETCH_BOOKS_SUCCESS',\n      payload: res.data\n    });\n  }).catch(err => console.log(err));\n};\nexport const filterBooks = query => dispatch => {\n  axios.get(`/api/v1/shop/list/filter/${query}/`).then(res => {\n    console.log(\"Response: \", res, res.data);\n    dispatch({\n      type: 'FETCH_BOOKS_SUCCESS',\n      payload: res.data\n    });\n  }).catch(err => console.log(err));\n};\nexport const filterBooksGenre = query => dispatch => {\n  axios.get(`/api/v1/shop/list/genre/filter/${query}/`).then(res => {\n    console.log(\"Response: \", res, res.data);\n    dispatch({\n      type: 'FETCH_BOOKS_SUCCESS',\n      payload: res.data\n    });\n  }).catch(err => console.log(err));\n};\nexport const setError = err => dispatch => {\n  dispatch({\n    type: \"ERROR_HANDLE\",\n    payload: {}\n  });\n};\nexport { fetchBooks, fetchBooksGenre };","map":{"version":3,"sources":["/Users/yeldarlimton/Documents/spring-client/src/actions/index.js"],"names":["axios","bookAddedToCart","bookId","type","payload","bookRemovedToCart","allbookRemovedToCart","fetchBooks","dispatch","get","then","res","data","catch","err","console","log","fetchBooksGenre","fetchBooksSeller","saveBook","fm","FormData","Object","keys","map","key","append","post","headers","undefined","signUp","user","setTimeout","response","logIn","localStorage","setItem","access","logOut","deleteArticle","id","delete","getMyArticles","filterBooks","query","filterBooksGenre","setError"],"mappings":"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","sourcesContent":["import axios from 'axios';\r\n\r\n\r\n// const booksLoaded = (newBooks) => {\r\n//     return {\r\n//         type: 'FETCH_BOOKS_SUCCESS',\r\n//         payload: newBooks\r\n//     };\r\n// };\r\n// const booksRequested = () => {\r\n//     return {\r\n//         type: 'FETCH_BOOKS_REQUEST'\r\n//     };\r\n// };\r\n\r\n// const booksError = (error) => {\r\n//     return {\r\n//         type: 'FETCH_BOOKS_FAILURE',\r\n//         payload: error\r\n//     };\r\n// };\r\n\r\nexport const bookAddedToCart = (bookId) => {\r\n  return {\r\n      type: 'BOOK_ADDED_TO_CART',\r\n      payload: bookId\r\n  }\r\n};\r\n\r\nexport const bookRemovedToCart = (bookId) => {\r\n  return {\r\n      type: 'BOOK_REMOVED_FROM_CART',\r\n      payload: bookId\r\n  }\r\n};\r\nexport const allbookRemovedToCart = (bookId) => {\r\n  return {\r\n      type: 'ALL_BOOKS_REMOVED_FROM_CART',\r\n      payload: bookId\r\n  }\r\n};\r\n\r\nconst fetchBooks = () => (dispatch) => {\r\n    axios.get('/products/').then(res => {\r\n        // console.log(res, res.data)\r\n        dispatch({\r\n            type: 'FETCH_BOOKS_SUCCESS',\r\n            payload: res.data\r\n        })\r\n    }).catch(err => console.log(err))\r\n}\r\n\r\nconst fetchBooksGenre = () => (dispatch) => {\r\n    axios.get('/api/v1/shop/genre/list/').then(res => {\r\n        // console.log(res, res.data)\r\n        dispatch({\r\n            type: 'FETCH_GENRE_SUCCESS',\r\n            payload: res.data\r\n        })\r\n    }).catch(err => console.log(err))\r\n}\r\n\r\n\r\n\r\n\r\n\r\n\r\nexport const fetchBooksSeller = () => (dispatch) => {\r\n    axios.get('/api/user/list').then(res => {\r\n        // console.log(res, res.data)\r\n        dispatch({\r\n            type: 'FETCH_SELLER_SUCCESS',\r\n            payload: res.data\r\n        })\r\n    }).catch(err => console.log(err))\r\n}\r\nexport const saveBook = data => dispatch =>{\r\n    console.log(data)\r\n    const fm = new FormData()\r\n    Object.keys(data).map(key => {\r\n        fm.append([key],data[key])\r\n    })\r\n    console.log(fm.get('title'))\r\n\r\n\r\n    axios.post('/api/v1/shop/create/', fm, {\r\n        headers: {\r\n            \"Content-type\": undefined\r\n        }})\r\n        .then(res => {\r\n            console.log(res.data)\r\n\r\n            dispatch({\r\n                type: 'FETCH_BOOK_ADD',\r\n                payload: res.data\r\n            })\r\n        })\r\n        .catch(err => console.log(err))\r\n};\r\n\r\n\r\n\r\nexport const signUp = (user) => dispatch =>{\r\n    console.log(user)\r\n    axios.post('/api/signup', user)\r\n        .then(res => {\r\n            console.log(\"Response: \", res.data)\r\n            dispatch({\r\n                type: 'USER_SIGNIN',\r\n            })\r\n\r\n            setTimeout(() => {\r\n                dispatch({\r\n                    type: 'USER_SIGNUP',\r\n                })\r\n            }, 1000)\r\n\r\n        })\r\n        .catch(err => {\r\n            // console.log(err.message)\r\n            dispatch({\r\n                type: 'ERROR_HANDLE',\r\n                payload: err.response.data\r\n            })\r\n        })\r\n\r\n};\r\n\r\n\r\nexport const logIn = (user) => dispatch =>{\r\n    console.log(user)\r\n    axios.post('/api/login', user)\r\n        .then(res => {\r\n            localStorage.setItem('access_token', res.data.access)\r\n            dispatch({\r\n                type: 'USER_LOGIN',\r\n                payload: res.data.access\r\n            })\r\n        })\r\n        .catch(err => {\r\n            // console.log(err.message)\r\n            dispatch({\r\n                type: 'ERROR_HANDLE',\r\n                payload: err.response.data\r\n            })\r\n        })\r\n};\r\n\r\nexport const logOut = () => dispatch =>{\r\n    dispatch({\r\n        type: 'USER_LOGOUT'\r\n    })\r\n};\r\n\r\n\r\nexport const deleteArticle = (id) => dispatch =>{\r\n    axios.delete('/api/v1/shop/detail/' + id)\r\n        .then(res => {\r\n            dispatch({\r\n                type: 'DELETE_BOOK',\r\n                payload: id\r\n            })\r\n        })\r\n        .catch(err => console.log(err))\r\n};\r\n\r\nexport const getMyArticles = () => dispatch =>{\r\n    axios.get('/api/v1/shop/user/books')\r\n        .then(res => {\r\n            console.log(\"Response: \", res, res.data)\r\n            dispatch({\r\n                type: 'FETCH_BOOKS_SUCCESS',\r\n                payload: res.data\r\n            })\r\n        })\r\n        .catch(err => console.log(err))\r\n};\r\n\r\n\r\nexport const filterBooks = (query) => dispatch =>{\r\n    axios.get(`/api/v1/shop/list/filter/${query}/`)\r\n        .then(res => {\r\n            console.log(\"Response: \", res, res.data)\r\n            dispatch({\r\n                type: 'FETCH_BOOKS_SUCCESS',\r\n                payload: res.data\r\n            })\r\n        })\r\n        .catch(err => console.log(err))\r\n};\r\n\r\n\r\nexport const filterBooksGenre = (query) => dispatch =>{\r\n    axios.get(`/api/v1/shop/list/genre/filter/${query}/`)\r\n        .then(res => {\r\n            console.log(\"Response: \", res, res.data)\r\n            dispatch({\r\n                type: 'FETCH_BOOKS_SUCCESS',\r\n                payload: res.data\r\n            })\r\n        })\r\n        .catch(err => console.log(err))\r\n};\r\n\r\n\r\n\r\n\r\nexport const setError = (err) => dispatch =>{\r\n    dispatch({\r\n        type: \"ERROR_HANDLE\",\r\n        payload: {}\r\n    })\r\n};\r\n\r\n\r\n\r\n\r\n\r\nexport {\r\n  fetchBooks, fetchBooksGenre\r\n};"]},"metadata":{},"sourceType":"module"}