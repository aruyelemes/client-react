{"ast":null,"code":"const updateProductList = (state, action) => {\n  if (state === undefined) {\n    return {\n      products: [],\n      loading: true,\n      error: null\n    };\n  }\n\n  switch (action.type) {\n    case 'FETCH_BOOKS_REQUEST':\n      return {\n        products: [],\n        loading: true,\n        error: null\n      };\n\n    case 'FETCH_BOOKS_SUCCESS':\n      return {\n        products: action.payload,\n        loading: false,\n        error: null\n      };\n\n    case 'FETCH_BOOK_ADD':\n      return {\n        products: [...state.products, action.payload],\n        loading: false,\n        error: null\n      };\n\n    case 'FETCH_BOOKS_FAILURE':\n      return {\n        products: [],\n        loading: false,\n        error: action.payload\n      };\n\n    case 'FETCH_DETAIL_SUCCESS':\n      return {\n        products: action.payload,\n        loading: false,\n        error: null\n      };\n\n    case 'DELETE_BOOK':\n      console.log(action.payload); // id article\n\n      return { ...state,\n        products: removeById(state.products, action.payload)\n      };\n\n    default:\n      return state.productList;\n  }\n};\n\nfunction removeById(list, id) {\n  for (let i = list.length - 1; i >= 0; i--) {\n    if (list[i].id === id) {\n      list.splice(i, 1);\n      break;\n    }\n  }\n\n  return [...list];\n}\n\nexport default updateProductList;","map":{"version":3,"sources":["/Users/yeldarlimton/Documents/spring-client/src/reducers/product-list.js"],"names":["updateProductList","state","action","undefined","products","loading","error","type","payload","console","log","removeById","productList","list","id","i","length","splice"],"mappings":"AAAA,MAAMA,iBAAiB,GAAG,CAACC,KAAD,EAAQC,MAAR,KAAmB;AAE3C,MAAID,KAAK,KAAKE,SAAd,EAAyB;AACvB,WAAO;AACLC,MAAAA,QAAQ,EAAE,EADL;AAELC,MAAAA,OAAO,EAAE,IAFJ;AAGLC,MAAAA,KAAK,EAAE;AAHF,KAAP;AAKD;;AAED,UAAQJ,MAAM,CAACK,IAAf;AACE,SAAK,qBAAL;AACE,aAAO;AACLH,QAAAA,QAAQ,EAAE,EADL;AAELC,QAAAA,OAAO,EAAE,IAFJ;AAGLC,QAAAA,KAAK,EAAE;AAHF,OAAP;;AAMF,SAAK,qBAAL;AACE,aAAO;AACLF,QAAAA,QAAQ,EAAEF,MAAM,CAACM,OADZ;AAELH,QAAAA,OAAO,EAAE,KAFJ;AAGLC,QAAAA,KAAK,EAAE;AAHF,OAAP;;AAKF,SAAK,gBAAL;AACE,aAAO;AACLF,QAAAA,QAAQ,EAAE,CAAC,GAAGH,KAAK,CAACG,QAAV,EAAoBF,MAAM,CAACM,OAA3B,CADL;AAELH,QAAAA,OAAO,EAAE,KAFJ;AAGLC,QAAAA,KAAK,EAAE;AAHF,OAAP;;AAKF,SAAK,qBAAL;AACE,aAAO;AACLF,QAAAA,QAAQ,EAAE,EADL;AAELC,QAAAA,OAAO,EAAE,KAFJ;AAGLC,QAAAA,KAAK,EAAEJ,MAAM,CAACM;AAHT,OAAP;;AAKA,SAAK,sBAAL;AACA,aAAO;AACLJ,QAAAA,QAAQ,EAAEF,MAAM,CAACM,OADZ;AAELH,QAAAA,OAAO,EAAE,KAFJ;AAGLC,QAAAA,KAAK,EAAE;AAHF,OAAP;;AAKF,SAAK,aAAL;AACEG,MAAAA,OAAO,CAACC,GAAR,CAAYR,MAAM,CAACM,OAAnB,EADF,CAC8B;;AAE5B,aAAO,EACL,GAAGP,KADE;AAELG,QAAAA,QAAQ,EAAEO,UAAU,CAACV,KAAK,CAACG,QAAP,EAAiBF,MAAM,CAACM,OAAxB;AAFf,OAAP;;AAIF;AACE,aAAOP,KAAK,CAACW,WAAb;AAxCJ;AA4CD,CAtDD;;AAwDA,SAASD,UAAT,CAAoBE,IAApB,EAA0BC,EAA1B,EAA8B;AAC5B,OAAI,IAAIC,CAAC,GAAGF,IAAI,CAACG,MAAL,GAAc,CAA1B,EAA6BD,CAAC,IAAI,CAAlC,EAAqCA,CAAC,EAAtC,EAA0C;AACxC,QAAGF,IAAI,CAACE,CAAD,CAAJ,CAAQD,EAAR,KAAeA,EAAlB,EAAsB;AACpBD,MAAAA,IAAI,CAACI,MAAL,CAAYF,CAAZ,EAAe,CAAf;AACA;AACD;AACF;;AACD,SAAO,CAAC,GAAGF,IAAJ,CAAP;AACD;;AAED,eAAeb,iBAAf","sourcesContent":["const updateProductList = (state, action) => {\n\n  if (state === undefined) {\n    return {\n      products: [],\n      loading: true,\n      error: null\n    };\n  }\n\n  switch (action.type) {\n    case 'FETCH_BOOKS_REQUEST':\n      return {\n        products: [],\n        loading: true,\n        error: null\n      };\n\n    case 'FETCH_BOOKS_SUCCESS':\n      return {\n        products: action.payload,\n        loading: false,\n        error: null\n      };\n    case 'FETCH_BOOK_ADD':\n      return {\n        products: [...state.products, action.payload],\n        loading: false,\n        error: null\n      }\n    case 'FETCH_BOOKS_FAILURE':\n      return {\n        products: [],\n        loading: false,\n        error: action.payload\n      };\n      case 'FETCH_DETAIL_SUCCESS':\n      return {\n        products: action.payload,\n        loading: false,\n        error: null\n      };\n    case 'DELETE_BOOK':\n      console.log(action.payload) // id article\n\n      return {\n        ...state,\n        products: removeById(state.products, action.payload)\n      }\n    default:\n      return state.productList;\n  }\n\n\n};\n\nfunction removeById(list, id) {\n  for(let i = list.length - 1; i >= 0; i--) {\n    if(list[i].id === id) {\n      list.splice(i, 1)\n      break\n    }\n  }\n  return [...list]\n}\n\nexport default updateProductList;\n"]},"metadata":{},"sourceType":"module"}